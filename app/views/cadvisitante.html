<div class="container">
    <div ng-include="'app/views/common/header.html'"></div>
    <section ng-if="!novo">
        <div style="padding:0 0 5px 0;">
            <button class="btn btn-success" ng-click="cadNovo()"><i class="fa fa-plus"></i> <b>Novo</b></button>
        </div>

        <h4>Próximas Visitas</h4>
        <hr>
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <td align="left">Data Início</td>
                        <td align="left">Data Fim</td>
                        <td align="left">Horário</td>
                        <td align="left">Visitante</td>
                        <td align="left">Documento</td>
                        <td align="left">Tipo</td>
                        <td align="left">Ações</td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="obj in visitas">
                        <td align="leftleft">{{obj.datainicio | data}}</td>
                        <td align="leftleft">{{obj.datafim | data}}</td>
                        <td align="leftleft">{{obj.horario}}</td>
                        <td align="leftleft">{{obj.visitante}}</td>
                        <td align="leftleft">{{obj.visitantedocumento}}</td>
                        <td align="leftleft">{{obj.tipovisita}}</td>
                        <td>
                            <!-- <button type="button" class="btn btn-warning" ng-click="reagendar(obj)"><i class="fa fa-calendar"></i></button> -->
                            <button type="button" class="btn btn-danger" ng-click="desativarVisita(obj)"><i class="fa fa-ban"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h4>Visitantes</h4>
        <hr>
        <input class="form-control" type="text" placeholder="Filtrar visitante por Nome ou Documento" ng-model="filtroVisitante">
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <td align="left">Nome</td>
                        <td align="left">Documento</td>
                        <!-- <td align="left">Última Visita</td> -->
                        <td align="left">Ações</td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="obj in visitantes | filter: filtroVisitante">
                        <td align="left">{{obj.nome}}</td>
                        <td align="left">{{obj.documento}}</td>
                        <!-- <td align="right">{{obj.ultimavisita | datahora}}</td> -->
                        <td>
                            <button class="btn btn-warning" ng-click="novoAgendamento(obj)"><i class="fa fa-calendar"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
    </section>
    <section style="padding:10px; margin-bottom: 60px;" ng-if="novo">
        <form name="cadForm">
            <section>
                <h4>Visitante</h4>
                <hr>
                <div class="form-group">
                    <label for="nome">Nome <span style="color:red;">*</span></label>
                    <input type="text" class="form-control" id="nome" name="nome" ng-model="obj.nome" placeholder="Informe o nome do Visitante" ng-required="true" ng-disabled="edicao" ng-blur="verificaVisitante(obj)">
                </div>
                <div class="form-group">
                    <label for="cpf">Documento</label>
                    <input type="text" class="form-control" id="documento" name="documento" ng-model="obj.documento" placeholder="Informe o documento do Visitante" ng-required="true" ng-disabled="edicao">
                </div>
            </section>
            <section>
                <h4>Agenda</h4>
                <hr>
                <div class="form-group">
                    <label for="nome">Tipo de Visita <span style="color:red;">*</span></label>
                    <select class="form-control" name="tipovisita" id="tipovisita" ng-model="obj.idtipovisita" ng-options="obj.id as obj.descricao for obj in tiposvisita"></select>
                </div>
                <div class="form-group">
                    <label for="nome">Data Entrada <span style="color:red;">*</span></label>
                    <input type="date" class="form-control" id="datainicio" name="datainicio" ng-model="obj.datainicio" ng-required="true">
                </div>
                <div class="form-group">
                    <label for="nome">Data Saída <span style="color:red;">*</span></label>
                    <input type="date" class="form-control" id="datainicio" name="datainicio" ng-model="obj.datainicio"
                        ng-required="true">
                </div>
                <div class="form-group">
                    <label for="nome">Horário Entrada <span style="color:red;">*</span></label>
                    <input type="time" class="form-control" id="horario" name="horario" ng-model="obj.horario" ng-required="true">
                </div>
                <div claas="form-group">
                    <label for="">Período</label><br>
                    <button type="button" class="btn btn-default btn-lg">Todos</button>
                    <button type="button" class="btn btn-default btn-lg">Segunda</button>
                    <button type="button" class="btn btn-default btn-lg">Terça</button>
                    <button type="button" class="btn btn-default btn-lg">Quarta</button>
                    <button type="button" class="btn btn-default btn-lg">Quinta</button>
                    <button type="button" class="btn btn-default btn-lg">Sexta</button>
                    <button type="button" class="btn btn-default btn-lg">Sábado</button>
                    <button type="button" class="btn btn-default btn-lg">Domingo</button>
                </div>
                <br>
            </section>
            <div class="btn-group pull-right">
                <!-- <button type="submit" class="btn btn-danger" ng-click="logout()">Sair</button> -->
                <button type="button" class="btn btn-danger" ng-click="cancelaNovo()">Cancelar</button>
                <button type="button" class="btn btn-default" ng-disabled="cadForm.$invalid" ng-click="cadastrar(obj)">Salvar</button>
            </div>
        </form>
    </section>
</div>